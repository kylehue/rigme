"use strict";var _ids=[],_idLength=6;module.exports={loadImage:function(t){var a=this,o=new Image;return o.crossOrigin="anonymous",o.src=t,new Promise(function(e,t){o.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d"),r=a.scaleSize(o.width,o.height,360,240);t.width=r.width,t.height=r.height,n.drawImage(o,0,0,t.width,t.height);n=t.toDataURL("image/png");e({url:n,width:t.width,height:t.height,image:t})}})},uid:function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";function t(){r="";for(var t=0;t<_idLength;t++)r+=n[Math.floor(Math.random()*n.length)]}t();for(var e=performance.now();_ids.includes(r);)20<performance.now()-e&&_idLength++,t();return _ids.push(r),r},lerp:function(t,n,r){return r*(n-t)+t},dist:function(t,n,r,e){return Math.sqrt((r-t)*(r-t)+(e-n)*(e-n))},map:function(t,n,r,e,a){return(t-n)/(r-n)*(a-e)+e},random:function(){if(2==arguments.length&&"number"==typeof arguments[0]&&"number"==typeof arguments[1])return Math.random()*(arguments[1]-arguments[0])+arguments[0];if(1==arguments.length&&"number"==typeof arguments[0])return Math.random()*arguments[0];if(Array.isArray(arguments[0]))return arguments[0][Math.floor(Math.random()*arguments[0].length)];if(2<arguments.length){var t=Array.prototype.slice.call(arguments);return t[Math.floor(Math.random()*t.length)]}},clamp:function(t,n,r){t=t<n?n:t;return t=r<t?r:t},getRandomColor:function(){return this.random(["#ff3b3b","#ff763b","#ffdb3b","#c4ff3b","#76ff3b","#3bff8d","#3bc1ff","#3b48ff","#963bff","#de3bff","#ff3b96"])},loadJSONData:function(n,t){var r=localStorage.getItem(n);if(r){var e,n=!1;try{e=JSON.parse(r)}catch(t){n=!0,console.warn("Couldn't load autosaved data.")}e&&!n&&"function"==typeof t&&t(e)}},degrees:function(t){return t*(180/Math.PI)},radians:function(t){return t*(Math.PI/180)},scaleSize:function(t,n,r,e){e=Math.min(r/t,e/n);return{width:t*e,height:n*e}}};